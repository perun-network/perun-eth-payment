<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="512px" preserveAspectRatio="none" style="width:1382px;height:512px;" version="1.1" viewBox="0 0 1382 512" width="1382px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ne4gxw9ipzk" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[ed6624c6556d5e7b1bd23032162d20b7]
class Client--><rect codeLine="4" fill="#FEFECE" filter="url(#f1ne4gxw9ipzk)" height="155.2001" id="Client" style="stroke:#A80036;stroke-width:1.5;" width="417" x="7" y="7"/><ellipse cx="187.5" cy="22" fill="#ADD1B2" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.0;"/><path d="M189.3125,18.6875 C188.5938,18.3438 188.1406,18.2344 187.4688,18.2344 C185.4688,18.2344 183.9219,19.8281 183.9219,21.9063 L183.9219,22.7656 C183.9219,24.7344 185.5469,26.1875 187.75,26.1875 C188.6875,26.1875 189.5781,25.9531 190.1406,25.5313 C190.5781,25.2188 190.8281,24.875 190.8281,24.5781 C190.8281,24.2344 190.5313,23.9375 190.1875,23.9375 C190.0156,23.9375 189.8594,24 189.7188,24.1406 C189.3594,24.5 189.3594,24.5 189.2188,24.5781 C188.8906,24.7813 188.375,24.875 187.7969,24.875 C186.2344,24.875 185.2344,24.0313 185.2344,22.7344 L185.2344,21.9063 C185.2344,20.5469 186.1875,19.5313 187.5156,19.5313 C187.9531,19.5313 188.4219,19.6563 188.7813,19.8438 C189.1563,20.0625 189.2813,20.2344 189.3438,20.5469 C189.4063,20.8594 189.4219,20.9375 189.5313,21.0469 C189.6406,21.1563 189.8125,21.2344 189.9844,21.2344 C190.1875,21.2344 190.3906,21.125 190.5156,20.9531 C190.6094,20.8438 190.6406,20.7031 190.6406,20.375 L190.6406,19.2813 C190.6406,18.9531 190.625,18.8438 190.5469,18.7344 C190.4219,18.5313 190.2188,18.4219 189.9844,18.4219 C189.7656,18.4219 189.6094,18.5 189.4375,18.7344 L189.3125,18.6875 Z " fill="#000000"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="48" x="206.5" y="26.238">Client</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="423" y1="37" y2="37"/><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="423" y1="45" y2="45"/><ellipse cx="18" cy="56" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="264" x="26" y="61.038">New(Wallet, Config) Client, error</text><ellipse cx="18" cy="71.6" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="328" x="26" y="76.638">Init(ctx, Adjudicator, AssetHolder) error</text><ellipse cx="18" cy="87.2" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="368" x="26" y="92.238">RegisterPeer(Address, host, alias) Peer, error</text><ellipse cx="18" cy="102.8" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="392" x="26" y="107.8381">OnChainBalance(ctx, []Address) []ETHAmount, error</text><ellipse cx="18" cy="118.4001" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="392" x="26" y="123.4381">ProposeChannel(ctx, Peer, Balance) Channel, error</text><ellipse cx="18" cy="134.0001" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="272" x="26" y="139.0381">Proposals() &lt;-chan ChannelProposal</text><ellipse cx="18" cy="149.6001" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="128" x="26" y="154.6381">Close(ctx) error</text><!--MD5=[9f070bf9f108c27faa2eb76515c78fb3]
class Wallet--><rect codeLine="14" fill="#FEFECE" filter="url(#f1ne4gxw9ipzk)" height="92.8" id="Wallet" style="stroke:#A80036;stroke-width:1.5;" width="433" x="459" y="38"/><ellipse cx="647.5" cy="53" fill="#ADD1B2" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.0;"/><path d="M649.3125,49.6875 C648.5938,49.3438 648.1406,49.2344 647.4688,49.2344 C645.4688,49.2344 643.9219,50.8281 643.9219,52.9063 L643.9219,53.7656 C643.9219,55.7344 645.5469,57.1875 647.75,57.1875 C648.6875,57.1875 649.5781,56.9531 650.1406,56.5313 C650.5781,56.2188 650.8281,55.875 650.8281,55.5781 C650.8281,55.2344 650.5313,54.9375 650.1875,54.9375 C650.0156,54.9375 649.8594,55 649.7188,55.1406 C649.3594,55.5 649.3594,55.5 649.2188,55.5781 C648.8906,55.7813 648.375,55.875 647.7969,55.875 C646.2344,55.875 645.2344,55.0313 645.2344,53.7344 L645.2344,52.9063 C645.2344,51.5469 646.1875,50.5313 647.5156,50.5313 C647.9531,50.5313 648.4219,50.6563 648.7813,50.8438 C649.1563,51.0625 649.2813,51.2344 649.3438,51.5469 C649.4063,51.8594 649.4219,51.9375 649.5313,52.0469 C649.6406,52.1563 649.8125,52.2344 649.9844,52.2344 C650.1875,52.2344 650.3906,52.125 650.5156,51.9531 C650.6094,51.8438 650.6406,51.7031 650.6406,51.375 L650.6406,50.2813 C650.6406,49.9531 650.625,49.8438 650.5469,49.7344 C650.4219,49.5313 650.2188,49.4219 649.9844,49.4219 C649.7656,49.4219 649.6094,49.5 649.4375,49.7344 L649.3125,49.6875 Z " fill="#000000"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="48" x="666.5" y="57.238">Wallet</text><line style="stroke:#A80036;stroke-width:1.5;" x1="460" x2="891" y1="68" y2="68"/><ellipse cx="470" cy="79" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="120" x="478" y="84.038">Address Address</text><line style="stroke:#A80036;stroke-width:1.5;" x1="460" x2="891" y1="91.6" y2="91.6"/><ellipse cx="470" cy="102.6" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="408" x="478" y="107.638">NewWalletHD(chainID, mnemonic, index) Wallet, error</text><ellipse cx="470" cy="118.2" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="360" x="478" y="123.238">NewWalletSK(chainID, secretKey) Wallet, error</text><!--MD5=[4bf8aff396996fef456cd268939daa24]
class Config--><rect codeLine="20" fill="#FEFECE" filter="url(#f1ne4gxw9ipzk)" height="155.2001" id="Config" style="stroke:#A80036;stroke-width:1.5;" width="441" x="927" y="7"/><ellipse cx="1119.5" cy="22" fill="#ADD1B2" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1121.3125,18.6875 C1120.5938,18.3438 1120.1406,18.2344 1119.4688,18.2344 C1117.4688,18.2344 1115.9219,19.8281 1115.9219,21.9063 L1115.9219,22.7656 C1115.9219,24.7344 1117.5469,26.1875 1119.75,26.1875 C1120.6875,26.1875 1121.5781,25.9531 1122.1406,25.5313 C1122.5781,25.2188 1122.8281,24.875 1122.8281,24.5781 C1122.8281,24.2344 1122.5313,23.9375 1122.1875,23.9375 C1122.0156,23.9375 1121.8594,24 1121.7188,24.1406 C1121.3594,24.5 1121.3594,24.5 1121.2188,24.5781 C1120.8906,24.7813 1120.375,24.875 1119.7969,24.875 C1118.2344,24.875 1117.2344,24.0313 1117.2344,22.7344 L1117.2344,21.9063 C1117.2344,20.5469 1118.1875,19.5313 1119.5156,19.5313 C1119.9531,19.5313 1120.4219,19.6563 1120.7813,19.8438 C1121.1563,20.0625 1121.2813,20.2344 1121.3438,20.5469 C1121.4063,20.8594 1121.4219,20.9375 1121.5313,21.0469 C1121.6406,21.1563 1121.8125,21.2344 1121.9844,21.2344 C1122.1875,21.2344 1122.3906,21.125 1122.5156,20.9531 C1122.6094,20.8438 1122.6406,20.7031 1122.6406,20.375 L1122.6406,19.2813 C1122.6406,18.9531 1122.625,18.8438 1122.5469,18.7344 C1122.4219,18.5313 1122.2188,18.4219 1121.9844,18.4219 C1121.7656,18.4219 1121.6094,18.5 1121.4375,18.7344 L1121.3125,18.6875 Z " fill="#000000"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="48" x="1138.5" y="26.238">Config</text><line style="stroke:#A80036;stroke-width:1.5;" x1="928" x2="1367" y1="37" y2="37"/><ellipse cx="938" cy="48" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="88" x="946" y="53.038">Host string</text><ellipse cx="938" cy="63.6" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="120" x="946" y="68.638">ChainURL string</text><ellipse cx="938" cy="79.2" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="248" x="946" y="84.238">ChallengeDuration time.Duration</text><ellipse cx="938" cy="94.8" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="200" x="946" y="99.8381">DialTimeout time.Duration</text><ellipse cx="938" cy="110.4001" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="184" x="946" y="115.4381">ProposalBufferSize uint</text><ellipse cx="938" cy="126.0001" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="168" x="946" y="131.0381">UpdateBufferSize uint</text><line style="stroke:#A80036;stroke-width:1.5;" x1="928" x2="1367" y1="138.6001" y2="138.6001"/><ellipse cx="938" cy="149.6001" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="416" x="946" y="154.6381">MakeConfig(host, chainURL, challengeDuration) Config</text><!--MD5=[e96ae0f2fa8911699d686dad522c8f82]
class ChannelProposal--><rect codeLine="30" fill="#FEFECE" filter="url(#f1ne4gxw9ipzk)" height="108.4001" id="ChannelProposal" style="stroke:#A80036;stroke-width:1.5;" width="233" x="99" y="222"/><ellipse cx="151.5" cy="237" fill="#ADD1B2" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.0;"/><path d="M153.3125,233.6875 C152.5938,233.3438 152.1406,233.2344 151.4688,233.2344 C149.4688,233.2344 147.9219,234.8281 147.9219,236.9063 L147.9219,237.7656 C147.9219,239.7344 149.5469,241.1875 151.75,241.1875 C152.6875,241.1875 153.5781,240.9531 154.1406,240.5313 C154.5781,240.2188 154.8281,239.875 154.8281,239.5781 C154.8281,239.2344 154.5313,238.9375 154.1875,238.9375 C154.0156,238.9375 153.8594,239 153.7188,239.1406 C153.3594,239.5 153.3594,239.5 153.2188,239.5781 C152.8906,239.7813 152.375,239.875 151.7969,239.875 C150.2344,239.875 149.2344,239.0313 149.2344,237.7344 L149.2344,236.9063 C149.2344,235.5469 150.1875,234.5313 151.5156,234.5313 C151.9531,234.5313 152.4219,234.6563 152.7813,234.8438 C153.1563,235.0625 153.2813,235.2344 153.3438,235.5469 C153.4063,235.8594 153.4219,235.9375 153.5313,236.0469 C153.6406,236.1563 153.8125,236.2344 153.9844,236.2344 C154.1875,236.2344 154.3906,236.125 154.5156,235.9531 C154.6094,235.8438 154.6406,235.7031 154.6406,235.375 L154.6406,234.2813 C154.6406,233.9531 154.625,233.8438 154.5469,233.7344 C154.4219,233.5313 154.2188,233.4219 153.9844,233.4219 C153.7656,233.4219 153.6094,233.5 153.4375,233.7344 L153.3125,233.6875 Z " fill="#000000"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="120" x="170.5" y="241.238">ChannelProposal</text><line style="stroke:#A80036;stroke-width:1.5;" x1="100" x2="331" y1="252" y2="252"/><ellipse cx="110" cy="263" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="72" x="118" y="268.038">From Peer</text><ellipse cx="110" cy="278.6" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="120" x="118" y="283.638">Balance Balance</text><line style="stroke:#A80036;stroke-width:1.5;" x1="100" x2="331" y1="291.2" y2="291.2"/><ellipse cx="110" cy="302.2" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="208" x="118" y="307.238">Accept(ctx) Channel, error</text><ellipse cx="110" cy="317.8" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="200" x="118" y="322.8381">Reject(ctx, reason) error</text><!--MD5=[1e4e6ac1845d89d680410515caa0c0ac]
class Channel--><rect codeLine="38" fill="#FEFECE" filter="url(#f1ne4gxw9ipzk)" height="108.4001" id="Channel" style="stroke:#A80036;stroke-width:1.5;" width="249" x="367" y="222"/><ellipse cx="459.5" cy="237" fill="#ADD1B2" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.0;"/><path d="M461.3125,233.6875 C460.5938,233.3438 460.1406,233.2344 459.4688,233.2344 C457.4688,233.2344 455.9219,234.8281 455.9219,236.9063 L455.9219,237.7656 C455.9219,239.7344 457.5469,241.1875 459.75,241.1875 C460.6875,241.1875 461.5781,240.9531 462.1406,240.5313 C462.5781,240.2188 462.8281,239.875 462.8281,239.5781 C462.8281,239.2344 462.5313,238.9375 462.1875,238.9375 C462.0156,238.9375 461.8594,239 461.7188,239.1406 C461.3594,239.5 461.3594,239.5 461.2188,239.5781 C460.8906,239.7813 460.375,239.875 459.7969,239.875 C458.2344,239.875 457.2344,239.0313 457.2344,237.7344 L457.2344,236.9063 C457.2344,235.5469 458.1875,234.5313 459.5156,234.5313 C459.9531,234.5313 460.4219,234.6563 460.7813,234.8438 C461.1563,235.0625 461.2813,235.2344 461.3438,235.5469 C461.4063,235.8594 461.4219,235.9375 461.5313,236.0469 C461.6406,236.1563 461.8125,236.2344 461.9844,236.2344 C462.1875,236.2344 462.3906,236.125 462.5156,235.9531 C462.6094,235.8438 462.6406,235.7031 462.6406,235.375 L462.6406,234.2813 C462.6406,233.9531 462.625,233.8438 462.5469,233.7344 C462.4219,233.5313 462.2188,233.4219 461.9844,233.4219 C461.7656,233.4219 461.6094,233.5 461.4375,233.7344 L461.3125,233.6875 Z " fill="#000000"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="56" x="478.5" y="241.238">Channel</text><line style="stroke:#A80036;stroke-width:1.5;" x1="368" x2="615" y1="252" y2="252"/><line style="stroke:#A80036;stroke-width:1.5;" x1="368" x2="615" y1="260" y2="260"/><ellipse cx="378" cy="271" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="208" x="386" y="276.038">Send(ctx, ETHAmount) error</text><ellipse cx="378" cy="286.6" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="224" x="386" y="291.638">Received() &lt;- chan ETHAmount</text><ellipse cx="378" cy="302.2" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="136" x="386" y="307.238">Balance() Balance</text><ellipse cx="378" cy="317.8" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="128" x="386" y="322.8381">Close(ctx) error</text><!--MD5=[b09fa2e86d703097c8c89305ce73de2f]
class Balance--><rect codeLine="45" fill="#FEFECE" filter="url(#f1ne4gxw9ipzk)" height="92.8" id="Balance" style="stroke:#A80036;stroke-width:1.5;" width="241" x="651" y="229.5"/><ellipse cx="739.5" cy="244.5" fill="#ADD1B2" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.0;"/><path d="M741.3125,241.1875 C740.5938,240.8438 740.1406,240.7344 739.4688,240.7344 C737.4688,240.7344 735.9219,242.3281 735.9219,244.4063 L735.9219,245.2656 C735.9219,247.2344 737.5469,248.6875 739.75,248.6875 C740.6875,248.6875 741.5781,248.4531 742.1406,248.0313 C742.5781,247.7188 742.8281,247.375 742.8281,247.0781 C742.8281,246.7344 742.5313,246.4375 742.1875,246.4375 C742.0156,246.4375 741.8594,246.5 741.7188,246.6406 C741.3594,247 741.3594,247 741.2188,247.0781 C740.8906,247.2813 740.375,247.375 739.7969,247.375 C738.2344,247.375 737.2344,246.5313 737.2344,245.2344 L737.2344,244.4063 C737.2344,243.0469 738.1875,242.0313 739.5156,242.0313 C739.9531,242.0313 740.4219,242.1563 740.7813,242.3438 C741.1563,242.5625 741.2813,242.7344 741.3438,243.0469 C741.4063,243.3594 741.4219,243.4375 741.5313,243.5469 C741.6406,243.6563 741.8125,243.7344 741.9844,243.7344 C742.1875,243.7344 742.3906,243.625 742.5156,243.4531 C742.6094,243.3438 742.6406,243.2031 742.6406,242.875 L742.6406,241.7813 C742.6406,241.4531 742.625,241.3438 742.5469,241.2344 C742.4219,241.0313 742.2188,240.9219 741.9844,240.9219 C741.7656,240.9219 741.6094,241 741.4375,241.2344 L741.3125,241.1875 Z " fill="#000000"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="56" x="758.5" y="248.738">Balance</text><line style="stroke:#A80036;stroke-width:1.5;" x1="652" x2="891" y1="259.5" y2="259.5"/><ellipse cx="662" cy="270.5" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="96" x="670" y="275.538">My ETHAmount</text><ellipse cx="662" cy="286.1" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="120" x="670" y="291.138">Other ETHAmount</text><line style="stroke:#A80036;stroke-width:1.5;" x1="652" x2="891" y1="298.7" y2="298.7"/><ellipse cx="662" cy="309.7" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="216" x="670" y="314.738">MakeBals(my, other) Balance</text><!--MD5=[5502d0b26b9225c8066cf2f4a2442e7f]
class Peer--><rect codeLine="51" fill="#FEFECE" filter="url(#f1ne4gxw9ipzk)" height="46" id="Peer" style="stroke:#A80036;stroke-width:1.5;" width="62" x="184.5" y="421"/><ellipse cx="198.5" cy="436" fill="#ADD1B2" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.0;"/><path d="M200.3125,432.6875 C199.5938,432.3438 199.1406,432.2344 198.4688,432.2344 C196.4688,432.2344 194.9219,433.8281 194.9219,435.9063 L194.9219,436.7656 C194.9219,438.7344 196.5469,440.1875 198.75,440.1875 C199.6875,440.1875 200.5781,439.9531 201.1406,439.5313 C201.5781,439.2188 201.8281,438.875 201.8281,438.5781 C201.8281,438.2344 201.5313,437.9375 201.1875,437.9375 C201.0156,437.9375 200.8594,438 200.7188,438.1406 C200.3594,438.5 200.3594,438.5 200.2188,438.5781 C199.8906,438.7813 199.375,438.875 198.7969,438.875 C197.2344,438.875 196.2344,438.0313 196.2344,436.7344 L196.2344,435.9063 C196.2344,434.5469 197.1875,433.5313 198.5156,433.5313 C198.9531,433.5313 199.4219,433.6563 199.7813,433.8438 C200.1563,434.0625 200.2813,434.2344 200.3438,434.5469 C200.4063,434.8594 200.4219,434.9375 200.5313,435.0469 C200.6406,435.1563 200.8125,435.2344 200.9844,435.2344 C201.1875,435.2344 201.3906,435.125 201.5156,434.9531 C201.6094,434.8438 201.6406,434.7031 201.6406,434.375 L201.6406,433.2813 C201.6406,432.9531 201.625,432.8438 201.5469,432.7344 C201.4219,432.5313 201.2188,432.4219 200.9844,432.4219 C200.7656,432.4219 200.6094,432.5 200.4375,432.7344 L200.3125,432.6875 Z " fill="#000000"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="32" x="211.5" y="440.238">Peer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="185.5" x2="245.5" y1="451" y2="451"/><line style="stroke:#A80036;stroke-width:1.5;" x1="185.5" x2="245.5" y1="459" y2="459"/><!--MD5=[ceddb97532dcf95ba5d6ab96c8b70982]
class ETHAmount--><rect codeLine="54" fill="#FEFECE" filter="url(#f1ne4gxw9ipzk)" height="108.4001" id="ETHAmount" style="stroke:#A80036;stroke-width:1.5;" width="281" x="282" y="390"/><ellipse cx="382.5" cy="405" fill="#ADD1B2" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.0;"/><path d="M384.3125,401.6875 C383.5938,401.3438 383.1406,401.2344 382.4688,401.2344 C380.4688,401.2344 378.9219,402.8281 378.9219,404.9063 L378.9219,405.7656 C378.9219,407.7344 380.5469,409.1875 382.75,409.1875 C383.6875,409.1875 384.5781,408.9531 385.1406,408.5313 C385.5781,408.2188 385.8281,407.875 385.8281,407.5781 C385.8281,407.2344 385.5313,406.9375 385.1875,406.9375 C385.0156,406.9375 384.8594,407 384.7188,407.1406 C384.3594,407.5 384.3594,407.5 384.2188,407.5781 C383.8906,407.7813 383.375,407.875 382.7969,407.875 C381.2344,407.875 380.2344,407.0313 380.2344,405.7344 L380.2344,404.9063 C380.2344,403.5469 381.1875,402.5313 382.5156,402.5313 C382.9531,402.5313 383.4219,402.6563 383.7813,402.8438 C384.1563,403.0625 384.2813,403.2344 384.3438,403.5469 C384.4063,403.8594 384.4219,403.9375 384.5313,404.0469 C384.6406,404.1563 384.8125,404.2344 384.9844,404.2344 C385.1875,404.2344 385.3906,404.125 385.5156,403.9531 C385.6094,403.8438 385.6406,403.7031 385.6406,403.375 L385.6406,402.2813 C385.6406,401.9531 385.625,401.8438 385.5469,401.7344 C385.4219,401.5313 385.2188,401.4219 384.9844,401.4219 C384.7656,401.4219 384.6094,401.5 384.4375,401.7344 L384.3125,401.6875 Z " fill="#000000"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="72" x="401.5" y="409.238">ETHAmount</text><line style="stroke:#A80036;stroke-width:1.5;" x1="283" x2="562" y1="420" y2="420"/><ellipse cx="293" cy="431" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="88" x="301" y="436.038">ETH float64</text><ellipse cx="293" cy="446.6" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="96" x="301" y="451.638">WEI *big.Int</text><line style="stroke:#A80036;stroke-width:1.5;" x1="283" x2="562" y1="459.2" y2="459.2"/><ellipse cx="293" cy="470.2" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="256" x="301" y="475.238">MakeAmountFromETH(eth) ETHAmount</text><ellipse cx="293" cy="485.8" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="256" x="301" y="490.8381">MakeAmountFromWEI(wei) ETHAmount</text><!--MD5=[764fca796ce7f635542948d8fc39db5e]
class Payment--><rect codeLine="61" fill="#FEFECE" filter="url(#f1ne4gxw9ipzk)" height="77.2" id="Payment" style="stroke:#A80036;stroke-width:1.5;" width="585" x="598" y="405.5"/><ellipse cx="858.5" cy="420.5" fill="#ADD1B2" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.0;"/><path d="M860.3125,417.1875 C859.5938,416.8438 859.1406,416.7344 858.4688,416.7344 C856.4688,416.7344 854.9219,418.3281 854.9219,420.4063 L854.9219,421.2656 C854.9219,423.2344 856.5469,424.6875 858.75,424.6875 C859.6875,424.6875 860.5781,424.4531 861.1406,424.0313 C861.5781,423.7188 861.8281,423.375 861.8281,423.0781 C861.8281,422.7344 861.5313,422.4375 861.1875,422.4375 C861.0156,422.4375 860.8594,422.5 860.7188,422.6406 C860.3594,423 860.3594,423 860.2188,423.0781 C859.8906,423.2813 859.375,423.375 858.7969,423.375 C857.2344,423.375 856.2344,422.5313 856.2344,421.2344 L856.2344,420.4063 C856.2344,419.0469 857.1875,418.0313 858.5156,418.0313 C858.9531,418.0313 859.4219,418.1563 859.7813,418.3438 C860.1563,418.5625 860.2813,418.7344 860.3438,419.0469 C860.4063,419.3594 860.4219,419.4375 860.5313,419.5469 C860.6406,419.6563 860.8125,419.7344 860.9844,419.7344 C861.1875,419.7344 861.3906,419.625 861.5156,419.4531 C861.6094,419.3438 861.6406,419.2031 861.6406,418.875 L861.6406,417.7813 C861.6406,417.4531 861.625,417.3438 861.5469,417.2344 C861.4219,417.0313 861.2188,416.9219 860.9844,416.9219 C860.7656,416.9219 860.6094,417 860.4375,417.2344 L860.3125,417.1875 Z " fill="#000000"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="56" x="877.5" y="424.738">Payment</text><line style="stroke:#A80036;stroke-width:1.5;" x1="599" x2="1182" y1="435.5" y2="435.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="599" x2="1182" y1="443.5" y2="443.5"/><ellipse cx="609" cy="454.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="560" x="617" y="459.538">DeployContracts(ctx, wallet, chainURL) Adjudicator, AssetHolder, error</text><ellipse cx="609" cy="470.1" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="232" x="617" y="475.138">SetLogLevel(level, formatter)</text><!--MD5=[c538482d1b5c2ce76fb6106916254ec6]
link Client to Wallet--><!--MD5=[c040ed7ef24ac89492b867a0e5365235]
link Wallet to Config--><!--MD5=[690daa6eccde6bc1118c13cdbd3b4454]
link Client to ChannelProposal--><!--MD5=[d0c9807300861319cc23e6742470372b]
link ChannelProposal to Channel--><!--MD5=[c4de36e6524453d44008edbb4b72913e]
link Channel to Balance--><!--MD5=[548eedcb578389fa4cb3a7eb564d3ce4]
link ChannelProposal to Peer--><!--MD5=[3249eb6c44b554d13bdc8c8c6a5a9af1]
link Peer to ETHAmount--><!--MD5=[6ed0c1b110e7bb84b51fd6d413028031]
link ETHAmount to Payment--><!--MD5=[4d37b0e9119f5139da3d69282419f8bb]
@startuml
skinparam defaultFontName Courier
skinparam defaultFontSize 13

class Client {
 + {static} New(Wallet, Config) Client, error
 + Init(ctx, Adjudicator, AssetHolder) error
 + RegisterPeer(Address, host, alias) Peer, error
 + OnChainBalance(ctx, []Address) []ETHAmount, error
 + ProposeChannel(ctx, Peer, Balance) Channel, error
 + Proposals() <-chan ChannelProposal
 + Close(ctx) error
}

class Wallet {
 + {static} NewWalletHD(chainID, mnemonic, index) Wallet, error
 + {static} NewWalletSK(chainID, secretKey) Wallet, error
 + Address Address
}

class Config {
 + {static} MakeConfig(host, chainURL, challengeDuration) Config
 + Host string
 + ChainURL string
 + ChallengeDuration time.Duration
 + DialTimeout time.Duration
 + ProposalBufferSize uint
 + UpdateBufferSize uint
}

class ChannelProposal {
 + Accept(ctx) Channel, error
 + Reject(ctx, reason) error

 + From Peer
 + Balance Balance
}

class Channel {
 + Send(ctx, ETHAmount) error
 + Received() <- chan ETHAmount
 + Balance() Balance
 + Close(ctx) error
}

class Balance {
 + {static} MakeBals(my, other) Balance
 + My ETHAmount
 + Other ETHAmount
}

class Peer {
}

class ETHAmount {
 + ETH float64
 + WEI *big.Int
 + {static} MakeAmountFromETH(eth) ETHAmount
 + {static} MakeAmountFromWEI(wei) ETHAmount 
}

class Payment {
 + {static} DeployContracts(ctx, wallet, chainURL) Adjudicator, AssetHolder, error
 + {static} SetLogLevel(level, formatter)
}
@enduml

PlantUML version 1.2021.4beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>